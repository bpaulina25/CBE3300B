<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBE3300B Project Hub</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Bundle with JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- FontAwesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: #f5f5f5; color: #2c3e50;">

    <!-- Header -->
    <header class="text-center py-5" style="background-color: #1e6f5c; color: white;">
        <h1>CBE3300B Project Hub</h1>
        <p>Explore ongoing and completed projects</p>
        <nav>
            <a href="#about" class="btn btn-outline-light m-2">About</a>
            <a href="#projects" class="btn btn-outline-light m-2">Projects</a>
            <a href="#gantt" class="btn btn-outline-light m-2">GANTT Schedule</a>
            <a href="#assignments" class="btn btn-outline-light m-2">Assignments</a>
            <a href="#contact" class="btn btn-outline-light m-2">Contact</a>
        </nav>
    </header>

    <!-- About Section -->
    <section id="about" class="container py-5">
        <h2 class="text-primary">About</h2>
        <p>
            This repository serves as a hub for CBE3300B-related projects. The goal is to document, share, and collaborate on research, experiments, and results. 
            Each project section includes its objectives, materials, and development status.
        </p>
    </section>

    <!-- Milestones Section -->
    <section id="milestones" class="container py-5">
        <h2 class="text-primary">Project Milestones</h2>
        <ul class="nav nav-tabs" id="milestoneTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="milestone1-tab" data-bs-toggle="tab" data-bs-target="#milestone1" type="button" role="tab" aria-controls="milestone1" aria-selected="false">
                    üèÅ Milestone 1
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="milestone2.html" target="_blank">
                    üöÄ Milestone 2
                </a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="milestone3.html" target="_blank">
                    üî¨ Milestone 3
                </a>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="milestone4-tab" data-bs-toggle="tab" data-bs-target="#milestone4" type="button" role="tab" aria-controls="milestone4" aria-selected="true">
                    üéØ Milestone 4
                </button>
            </li>
            <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="milestone4-pot-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#milestone4-pot"
                    type="button"
                    role="tab"
                    aria-controls="milestone4-pot"
                    aria-selected="false">
                    Milestone 4: Potentiostat
                  </button>
                </li>
        </ul>

        <div class="tab-content" id="milestoneTabsContent">
            <!-- Milestone 1 Content -->
            <div class="tab-pane fade" id="milestone1" role="tabpanel" aria-labelledby="milestone1-tab">
                <h3>üèÅ Milestone 1: Project Proposal</h3>
                <p>The proposal details the development of a potentiostat-based glucometer.</p>
                <p><strong>Materials:</strong> Glucose test strips, IO Rodeostat, Arduino components, power supply, and microcontroller.</p>
                <p><strong>Status:</strong> Research and prototype development in progress.</p>
                <p>
                    <a href="proposal.html" target="_blank" class="btn btn-primary">
                        üìÑ View Full Proposal
                    </a>
                    <a href="Potentiostat-Based%20Glucometer%20Proposal.pdf" target="_blank" class="btn btn-success">
                        üìà Presentation Proposal (PDF)
                    </a>
                </p>
            </div>

            <!-- Milestone 4 Content -->
            <div class="tab-pane fade show active" id="milestone4" role="tabpanel" aria-labelledby="milestone4-tab">
  <h3>üì° Milestone 4: Arduino GIGA + Python CSV Integration</h3>
  <p>Test setup for serial communication between Python and the Arduino GIGA to display CSV values on-screen.</p>

  <div class="mb-3">
    <a href="arduino_codes/MVP%20codes/LVGLDemo_copy_20250416132112_copy_202504171_copy_20250417170104.ino" class="btn btn-primary" target="_blank">üîó View Arduino Code</a>
    <a href="arduino_codes/MVP%20codes/python_glucose_send_to_arduino_apr16.py" class="btn btn-secondary" target="_blank">üêç Python (Apr 16 Integration)</a>
    <a href="arduino_codes/MVP%20codes/send_csv_value.py" class="btn btn-secondary" target="_blank">üêç Python (First CSV Test)</a>
  </div>

  <h4>‚úÖ 1. Prepare Arduino</h4>
  <ul>
    <li>Select your GIGA‚Äôs port (Paulina‚Äôs Mac: <code>/dev/tty.usbmodem1101</code>).</li>
    <li>Click <strong>Upload</strong>.</li>
    <li><strong>‚ö†Ô∏è Do NOT open the Serial Monitor after uploading.</strong></li>
  </ul>

  <h4>‚úÖ 2. In Terminal</h4>
  <ul>
    <li>Open terminal</li>
    <li><code>cd ~/Documents</code></li>
    <li><code>python python_glucose_send_to_arduino_apr16.py</code></li>
  </ul>
  <p><strong>‚ö†Ô∏è Make sure the Python code has:</strong></p>
  <ul>
    <li>Potentiostat port: <code>dev = Potentiostat('/dev/tty.usbmodem101')</code></li>
    <li>Arduino port: <code>send_to_arduino(value, port="/dev/tty.usbmodem1101", baudrate=115200)</code></li>
  </ul>

  <h5>‚úÖ Success Looks Like‚Ä¶</h5>
  <pre><code>üìÑ CSV value: 42.7
‚úîÔ∏è Sent to Arduino: 42.7</code></pre>
  <p>The display will now show the concentration.</p>
  <p><strong>Next steps:</strong> Make it update every <code>x</code> amount of time so we can do several readings.</p>

  <hr>
  <h4>üî¨ FIRST TEST</h4>

  <h5>‚úÖ 1. Prepare Arduino</h5>
  <ul>
    <li>Select your GIGA‚Äôs port (e.g. <code>/dev/tty.usbmodem1101</code>).</li>
    <li>Click <strong>Upload</strong>.</li>
    <li><strong>‚ö†Ô∏è Do NOT open the Serial Monitor after uploading.</strong></li>
  </ul>

  <h5>‚úÖ 2. Create your CSV File</h5>
  <ul>
    <li>Create a file named: <code>Reading_to_GIGA.csv</code></li>
    <li>Add one number (e.g. <code>42.7</code>) and save it.</li>
    <li>Place it in a known folder like your Desktop.</li>
  </ul>

  <h5>‚úÖ 3. Create the Python Script</h5>
  <ol>
    <li>Open TextEdit, VS Code, or any plain text editor.</li>
    <li>Paste the following code and save it as <code>send_csv_value.py</code> in the same folder as your CSV:</li>
  </ol>
  <pre><code>import serial
import time

CSV_FILE = "Reading_to_GIGA.csv"
SERIAL_PORT = "/dev/tty.usbmodem1101"
BAUD_RATE = 115200

def read_first_value_from_csv():
    try:
        with open(CSV_FILE, 'r') as f:
            for line in f:
                line = line.strip()
                if line:
                    return line
    except FileNotFoundError:
        print(f"‚ùå File not found: {CSV_FILE}")
    return None

def send_to_arduino(value):
    try:
        with serial.Serial(SERIAL_PORT, BAUD_RATE, timeout=2) as ser:
            time.sleep(2)
            ser.write((value + '
').encode())
            print(f"‚úîÔ∏è Sent to Arduino: {value}")
    except serial.SerialException as e:
        print(f"‚ö†Ô∏è Serial error: {e}")

def main():
    value = read_first_value_from_csv()
    if value:
        print(f"üìÑ CSV value: {value}")
        send_to_arduino(value)
    else:
        print("‚ùå No valid value found in CSV.")

if __name__ == "__main__":
    main()</code></pre>

  <h5>‚úÖ 4. Use Terminal to Run It</h5>
  <ul>
    <li>Open Terminal and run: <code>cd ~/Documents</code></li>
    <li>(Optional, if needed for permissions): <code>sudo chmod a+rw /dev/tty.usbmodem1101</code></li>
    <li>Then run the script: <code>python send_csv_value.py</code></li>
  </ul>

  <p><strong>‚úÖ You Should See:</strong></p>
  <pre><code>üìÑ CSV value: 42.7
‚úîÔ∏è Sent to Arduino: 42.7</code></pre>

  <h5>üîÅ To Repeat:</h5>
  <ol>
    <li>Change the number in <code>Reading_to_GIGA.csv</code></li>
    <li>Save the file</li>
    <li>Run: <code>python send_csv_value.py</code> again</li>
  </ol>

  <p>üéâ You're all set! Let me know if you'd like to auto-refresh, add sensor input, or expand functionality!</p>
</div>
</div>

<!-- Theertha's stuff  -->
        
        
        
<!-- Kayla's stuff starts here (checking for formatting stuff) -->
      <div
        class="tab-pane fade show active"
        id="milestone4-pot"
        role="tabpanel"
        aria-labelledby="milestone4-pot-tab">
    
        <h3 class="mt-4">Milestone 4: Potentiostat</h3>
    
        <p>We are using the <a href="https://iorodeo.com/products/rodeostat" target="_blank">IO Rodeo Rodeostat</a> as our potentiostat circuit base.</p>
    
        <h5 class="mt-4">How to Set Up the IO Rodeostat</h5>
        <ul>
          <li>Download <code>potentiostat.py</code> from the IO Rodeo GitHub (version 0.0.9)</li>
          <li>Follow the setup instructions in the <a href="https://iorodeo.github.io/iorodeo-potentiostat-docs-build/installation.html" target="_blank">Installation Guide</a></li>
          <li>Customize your code and begin testing!</li>
        </ul>

            <h5 class="mt-4">Relevant Code Files</h5>
            <ul>
              <li>
                <a href="MVP Codes/milestone 4 code.py" target="_blank">MVP Rodeostat-Arduino Code</a>: This script runs the Rodeostat and calibration with UI compatibility
                <br>
                for the Arduino GIGA R1. <b>Key features:</b> Serial port auto-detection, chronoamperometry execution,
                <br>
                signal processing, Arduino communication, and data logging.          
              </li>
              <li>
                <a href="MVP Codes/glucometer GUI.py" target="_blank">Glucometer GUI Script</a>: This script provides a standalone python GUI for those who do not wish to
                <br>
                integrate an Arduino display. <b>Key features:</b> Simple button-based control, fetches past glucose
                <br>
                readings and daily history.
              </li>
              <li>
                <a href="MVP Codes/glucometer.py" target="_blank">Glucometer Core Functions</a>: This code houses the core functions that run the actual glucometer,
                <br>
                supporting both the Arduino-integrated display and the standalone Python GUI. <b>Key features:</b>
                <br>
                Modular architecture, error handling.
              </li>
            </ul>
          
            <h5>Methodology</h5>
            <ol>
              <li>
                After 6 second quiet time to allow for the glucose reaction to occur on the test strip, apply a 200 mV constant potential step.
                <ul>
                  <li>Optimal quiet time and step potential experimentally validated.</li>
                </ul>
              </li>
              <li>
                Run the chronoamperometry test for 1 second.
              </li>
              <li>
                Get linear regression of i vs 1/‚àöt and convert the slope to glucose concentration with the calibration function.
                <ul>
                  <li>Optimal window for linear regression was experimentally validated.</li>
                </ul>
              </li>
            </ol>
    
            <h5 class="mt-4">Calibration</h5>
            <img src="Images/calibration.png" alt="Calibration Graph" class="img-fluid my-3" />
    
            <h5>Clarke Error Grid</h5>
            <img src="Images/CEG_sort_of.png" alt="Clarke Error Grid" class="img-fluid my-3" />
        
    <h5 class="mt-4">Data Analysis Pseudocode</h5>
  <ol>
    <li>
      Load raw chronoamperometry data from Excel/CSV into a DataFrame.
      <ul>
        <li>Extract time, voltage, and current traces.</li>
        <li>Filter current data once the step is applied.</li>
      </ul>
    </li>
    <li>
      Confirm if Cottrell behavior appears (diffusion-limited regime).
      <ul>
        <li>Slide a regression window over current vs 1/‚àöt.</li>
        <li>Identify the region with highest R¬≤.</li>
      </ul>
    </li>
    <li>
      Extract Cottrell region and fit a linear regression to calculate slope.
    </li>
    <li>
      Choose a calibration model.
      <ul>
        <li>Compare linear vs polynomial models.</li>
        <li>Try a piecewise model to separate low vs high glucose regimes.</li>
      </ul>
    </li>
    <li>
      Validate performance using the Clarke Error Grid for diagnostic implications.
    </li>
  </ol>
          </div>
        </div>
   <!-- Kayla's stuff ends here (checking for formatting stuff) -->    
    <!-- </div> -->
    </section>
</body>
</html>


    <!-- GANTT Schedule Section -->
    <section id="gantt" class="container py-5">
        <h2 class="text-primary">Project Timeline</h2>
        <p>View our project schedule using the GANTT chart:</p>
        <p><a href="https://docs.google.com/spreadsheets/d/19b4tQyq3dYm4ijzws2hTFp0yeTZAH9Zb37dlXd-GJd4/edit?usp=sharing" target="_blank" class="btn btn-success">
            üìÖ View GANTT Schedule
        </a></p>
        <iframe src="https://docs.google.com/spreadsheets/d/19b4tQyq3dYm4ijzws2hTFp0yeTZAH9Zb37dlXd-GJd4/preview" width="100%" height="600px" style="border: none;"></iframe>
    </section>

    <!-- Assignments Section -->
    <section id="assignments" class="container py-5">
        <h2 class="text-primary">Side Assignments</h2>
        <p>Additional assignments related to CBE3300B.</p>

        <!-- 3D Printing Subsection -->
        <h3>3D Printing</h3>
        <!-- STL File Download -->
        <h4>Download Our CAD File</h4>
        <p>
            Here‚Äôs the CAD model used in Milestone 4. You can download it below:
        </p>
        <a href="Top2.STL" download class="btn btn-primary">‚¨áÔ∏è Download STL File</a>
        <p>
            This subsection will cover **3D printing projects**, methodologies, and related coursework for CBE3300B.
            More details will be added soon.
        </p>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="text-center py-5" style="background-color: #1e6f5c; color: white;">
        <h2>Contact</h2>
        <p>Email: <a href="mailto:bpaulina@seas.upenn.edu" class="text-light">bpaulina@seas.upenn.edu</a></p>
        <p>GitHub: <a href="https://github.com/bpaulina25/CBE3300B" class="text-light">CBE3300B Repository</a></p>
    </section>

    <!-- Footer -->
    <footer class="text-center py-3" style="background-color: #1e6f5c; color: white;">
        <p>&copy; 2025 CBE3300B | Designed by Paulina Bargallo</p>
    </footer>

</body>
</html>
